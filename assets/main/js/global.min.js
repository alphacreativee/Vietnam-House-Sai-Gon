function customDropdown(){let e=document.querySelectorAll(".dropdown-custom, .dropdown-custom-select");function s(r){e.forEach(e=>{var t=e.querySelector(".dropdown-custom-menu"),o=e.querySelector(".dropdown-custom-btn");r&&e===r||(t.classList.remove("dropdown--active"),o.classList.remove("--active"))})}e.forEach(a=>{let t=a.querySelector(".dropdown-custom-btn"),o=a.querySelector(".dropdown-custom-menu");var e=a.querySelectorAll(".dropdown-custom-item");let i=a.querySelector(".value-select"),n=a.querySelector(".dropdown-custom-text"),l=a.classList.contains("dropdown-custom-select");t.addEventListener("click",function(e){e.stopPropagation(),s(a),o.classList.toggle("dropdown--active"),t.classList.toggle("--active")}),document.addEventListener("click",function(){s()}),e.forEach(r=>{r.addEventListener("click",function(e){var t,o;e.stopPropagation(),l?(e=r.textContent,n.textContent=e,a.classList.add("selected"),n.classList.add("selected")):(e=(e=i.querySelector("img"))?e.src:"",t=i.querySelector("span").textContent,o=r.innerHTML,i.innerHTML=o,"Time"!==t.trim()&&(r.innerHTML=e?`<span>${t}</span><img src="${e}" alt="" />`:`<span>${t}</span>`)),s()})}),window.addEventListener("scroll",function(){o.closest(".header-lang")&&(o.classList.remove("dropdown--active"),t.classList.remove("--active"))})})}function headerScroll(){let t=document.getElementById("header");if(!t)return null;let o=0;return ScrollTrigger.create({start:"top top",end:9999,onUpdate:e=>{e=e.scroll();!(e<=0)&&e>o?t.classList.add("scrolled"):t.classList.remove("scrolled"),o=e}})}function createFilterTab(){document.querySelectorAll(".filter-section").forEach(o=>{let r;var e=o.dataset.target;if(e)r=document.querySelector(e);else if(!(r=o.querySelector(".filter-section-result"))&&!(r=o.nextElementSibling)?.classList.contains("filter-section-result"))return;if(r){var e=o.querySelectorAll(".filter-button[data-type]"),a=o.querySelector(".filter-button.active");if(a){let t=a.dataset.type;"all"!==t&&r.querySelectorAll(".filter-item").forEach(e=>{e.style.display=e.classList.contains(t)?"":"none"})}e.forEach(e=>{e.addEventListener("click",function(){o.querySelectorAll(".filter-button").forEach(e=>e.classList.remove("active")),this.classList.add("active");let t=this.dataset.type,e=r.querySelectorAll(".filter-item");gsap.timeline().to(r,{autoAlpha:0,duration:.3}).call(()=>{e.forEach(e=>{"all"===t?e.style.display="":e.style.display=e.classList.contains(t)?"":"none"})}).to(r,{autoAlpha:1,duration:.3})})})}})}function loading(){var e;if(document.querySelector("#loading"))return(e=gsap.timeline()).fromTo("#loading",{clipPath:"inset(0% 0% 0% 0%)"},{clipPath:"inset(0% 0% 100% 0%)",duration:1.25,ease:"power2.inOut"}),e}function bannerRevealWithContent(){var e,t,o=document.querySelectorAll(".reveal-element"),r=document.querySelector(".hero-content");let a=gsap.timeline();o.forEach(e=>{var t,o=e.querySelector(".reveal-overlay"),e=e.querySelector("img, video");o&&e&&(gsap.set(o,{scaleX:0,transformOrigin:"left"}),(t=gsap.timeline()).fromTo(o,{scaleX:0,transformOrigin:"left"},{scaleX:1,duration:.6,ease:"power2.out"}).to(o,{scaleX:0,transformOrigin:"right",duration:.6,ease:"power2.inOut"},"+=0.1").fromTo(e,{opacity:0,scale:1.05},{opacity:1,scale:1,duration:1,ease:"power2.out"},"-=0.4"),a.add(t,0))}),r&&(gsap.set(r,{visibility:"visible"}),o=r.querySelector(".hero-title"),e=r.querySelector(".hero-description"),r=r.querySelector(".hero-list-michelin"),o&&(gsap.set(o,{opacity:0}),t=new SplitText(o,{type:"lines",linesClass:"line",mask:"lines"}),gsap.set(t.lines,{opacity:0,y:50}),gsap.set(o,{opacity:1}),a.to(t.lines,{opacity:1,y:0,duration:.8,stagger:.05,ease:"power1.out"},.9)),e&&a.fromTo(e,{opacity:0,y:50},{opacity:1,y:0,duration:.8,ease:"power1.out"},.9+(o?.3:0)),r)&&a.fromTo(r,{opacity:0,y:50},{opacity:1,y:0,duration:.8,ease:"power1.out"},.9+(o?.5:.2))}function revealBgPage(){}function chefSectionAnimation(){var t=document.querySelector(".chef");if(t){var e,o=t.querySelector(".chef-content"),r=t.querySelector(".chef-image-wrapper"),t=gsap.timeline({scrollTrigger:{trigger:t,start:"top 60%",toggleActions:"play none none none"}});if(r){var r=r.querySelector(".reveal-element-chef"),a=r?.querySelector("img");if(r&&a){let e=r.querySelector(".reveal-overlay");e||((e=document.createElement("div")).className="reveal-overlay",r.appendChild(e)),gsap.set(e,{scaleX:0,transformOrigin:"left"}),t.fromTo(e,{scaleX:0,transformOrigin:"left"},{scaleX:1,duration:.5,ease:"power3.out"},0).to(e,{scaleX:0,transformOrigin:"right",duration:.6,ease:"power2.inOut"},"+=0.1").fromTo(a,{opacity:0,scale:1.05},{opacity:1,scale:1,duration:1,ease:"power2.out"},"-=0.5")}}o&&(r=o.querySelector(".chef-title"),a=o.querySelector(".chef-description"),o=o.querySelector(".chef-button"),r&&(gsap.set(r,{opacity:0}),e=new SplitText(r,{type:"lines",linesClass:"line"}),gsap.set(e.lines,{opacity:0,y:50}),gsap.set(r,{opacity:1}),t.to(e.lines,{opacity:1,y:0,duration:.8,stagger:.05,ease:"power1.out"},.9)),a&&t.fromTo(a,{opacity:0,y:50},{opacity:1,y:0,duration:.8,ease:"power1.out"},.9+(r?.3:0)),o)&&(gsap.set(o,{opacity:0,y:50}),t.to(o,{opacity:1,y:0,duration:.8,ease:"power1.out"},.9+(r||a?.5:.2)))}}function menuGalleryReveal(){console.log("123");var e=document.querySelectorAll(".menu-gallery-item.reveal-element-stagger");e.length&&e.forEach(e=>{var t=e.querySelector(".reveal-overlay"),o=e.querySelector(".image img"),r=e.querySelector(".tag");t&&o&&(gsap.set(e,{visibility:"visible"}),gsap.set(t,{scaleX:0,transformOrigin:"left"}),r&&gsap.set(r,{opacity:0,y:20}),(e=gsap.timeline({scrollTrigger:{trigger:e,start:"top 70%",toggleActions:"play none none none"}})).fromTo(t,{scaleX:0,transformOrigin:"left"},{scaleX:1,duration:.6,ease:"power3.out"}).to(t,{scaleX:0,transformOrigin:"right",duration:.6,ease:"power2.inOut"},"+=0.1").fromTo(o,{opacity:0,scale:1.05},{opacity:1,scale:1,duration:1,ease:"power2.out"},"-=0.6"),r)&&e.to(r,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.4")})}function cursor(){MouseFollower.registerGSAP(gsap);new MouseFollower}function ctaRun(){let t=document.getElementById("cta");if(t){gsap.registerPlugin(ScrollTrigger);let e=document.querySelector("footer");ScrollTrigger.create({trigger:"body",start:"top top",end:()=>e?`bottom+=${e.offsetHeight}px bottom`:"bottom bottom",onUpdate:e=>{document.body.scrollHeight<=window.innerHeight||t.classList.toggle("run-right",1===e.direction)}})}}function mousetail(){let s=document.querySelector(".mouse-trail");if(s){var t=document.querySelectorAll(".hidden-images img");let a=Array.from(t).map(e=>e.src),i=0,e=0,n=0,l=window.innerWidth<991?100:140;window.innerWidth<991?function e(){{let e=document.createElement("img");e.classList.add("image-trail"),e.src=a[i],s.appendChild(e),i=(i+1)%a.length;var t=Math.random()*(window.innerWidth-100),o=Math.random()*(window.innerHeight-100);gsap.set(e,{x:t,y:o,scale:0,opacity:0,rotation:gsap.utils.random(-20,20)}),gsap.to(e,{scale:1,opacity:1,duration:.5,ease:"power2.out"}),gsap.to(e,{scale:.2,opacity:0,duration:1,delay:.8,ease:"power2.in",onComplete:()=>{e.remove()}})}t=1e3*Math.random()+700;setTimeout(e,t)}():s.addEventListener("mousemove",t=>{var o=t.clientX-e,r=t.clientY-n;if(Math.sqrt(o*o+r*r)>l){{o=t.clientX;r=t.clientY;let e=document.createElement("img");e.classList.add("image-trail"),e.src=a[i],s.appendChild(e),i=(i+1)%a.length,gsap.set(e,{x:o-40,y:r-40,scale:0,opacity:0,rotation:gsap.utils.random(-20,20)}),gsap.to(e,{scale:1,opacity:1,duration:.5,ease:"power2.out"}),gsap.to(e,{scale:.2,opacity:0,duration:1,delay:.3,ease:"power2.in",onComplete:()=>{e.remove()}})}e=t.clientX,n=t.clientY}})}}function bannerWithOutHome(){var e=document.querySelectorAll(".banner-description");e.length&&(gsap.registerPlugin(ScrollTrigger),e.forEach(e=>{gsap.set(e.querySelectorAll(".tag, .description, .button"),{opacity:0,y:20});var t=e.classList.contains("scroll-trigger");gsap.timeline(t?{scrollTrigger:{trigger:e,start:"top 65%",toggleActions:"play none none none"}}:{}).to(e.querySelector(".tag"),{opacity:1,y:0,duration:.8,ease:"power1.out"}).to(e.querySelector(".description"),{opacity:1,y:0,duration:.8,ease:"power1.out"},"-=0.5").to(e.querySelector(".button"),{opacity:1,y:0,duration:.8,ease:"power1.out"},"-=0.5")}))}function changeBackgroundColor(){var e=document.querySelector("main.change-background-color");e&&(gsap.set(e,{backgroundColor:"#acdcd2"}),gsap.to(e,{backgroundColor:"#ffffff",ease:"sine.inOut",scrollTrigger:{trigger:"body",start:"top top",end:"+=180",scrub:1.1,invalidateOnRefresh:!0,anticipatePin:1}}))}function swiperLocation(){if(document.querySelector(".swiper-location")){new Swiper(".swiper-location",{slidesPerView:3,spaceBetween:30,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});let t=document.querySelector(".all-location .tag");var r=document.querySelectorAll(".all-location .location-item");let e=document.querySelector(".swiper-button-prev"),o=document.querySelector(".swiper-button-next");if(r.length){if(e&&o&&(gsap.set([e,o],{visibility:"visible"}),gsap.set([e,o],{opacity:0}),ScrollTrigger.create({trigger:".swiper-location",start:"top 70%",onEnter:()=>{gsap.to([e,o],{opacity:1,x:0,duration:.8,ease:"power2.out",stagger:.1})}})),t){gsap.set(t,{opacity:0,y:20});let e=!1;ScrollTrigger.create({trigger:".all-location",start:"top 65%",end:"bottom top",onEnter:()=>{e?setTimeout(()=>{t.classList.add("active")},200):(gsap.to(t,{opacity:1,y:0,duration:.6,ease:"power2.out",onComplete:()=>{setTimeout(()=>{t.classList.add("active")},200)}}),e=!0)},onLeaveBack:()=>{t.classList.remove("active")}})}r.forEach((e,t)=>{var o=e.querySelector(".reveal-element-stagger"),r=o?.querySelector(".reveal-overlay"),o=o?.querySelector(".image img"),a=e.querySelector(".tag-location-list"),i=e.querySelector(".location-content h4"),n=e.querySelector(".location-content .desc"),l=e.querySelector(".location-content .button");e&&(gsap.set(e,{visibility:"visible"}),e=gsap.timeline({scrollTrigger:{trigger:e,start:"top 70%",toggleActions:"play none none none"},delay:.3}),r&&(gsap.set(r,{scaleX:0,transformOrigin:"left"}),e.fromTo(r,{scaleX:0,transformOrigin:"left"},{scaleX:1,duration:.6,ease:"power3.out"}).to(r,{scaleX:0,transformOrigin:"right",duration:.6,ease:"power2.inOut"},"+=0.1")),o&&e.fromTo(o,{opacity:0,scale:1.05},{opacity:1,scale:1,duration:1,ease:"power2.out"},r?"-=0.6":0),o=[],i&&(gsap.set(i,{opacity:0,y:20}),o.push(i)),a&&(gsap.set(a,{opacity:0,y:20}),o.push(a)),n&&gsap.set(n,{opacity:0,y:20}),l&&gsap.set(l,{opacity:0,y:20}),0<o.length&&e.to(o,{opacity:1,y:0,duration:.6,ease:"power2.out"},.9),n&&e.to(n,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.4"),l)&&e.to(l,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.4")})}}}function unionSectionAnimation(){var o=document.querySelector(".union");if(o){gsap.registerPlugin(ScrollTrigger);let t=o.querySelector(".tag");var e=o.querySelectorAll(".union-row");if(e.length){if(t){gsap.set(t,{opacity:0,y:50});let e=!1;ScrollTrigger.create({trigger:o,start:"top 65%",end:"bottom top",onEnter:()=>{e?setTimeout(()=>{t.classList.add("active")},200):(gsap.to(t,{opacity:1,y:0,duration:.8,ease:"power1.out",onComplete:()=>{setTimeout(()=>{t.classList.add("active")},200)}}),e=!0)},onLeaveBack:()=>{t.classList.remove("active")}})}e.forEach(e=>{var t=e.querySelector(".union-item"),r=e.querySelector(".union-grid");if(t){var a=t.querySelector(".reveal-element-stagger"),i=a?.querySelector(".reveal-overlay"),a=a?.querySelector(".image img"),t=t.querySelector(".union-content"),n=t?.querySelector(".title"),l=t?.querySelector(".description"),s=t?.querySelector(".union-button");if(i&&a&&t){gsap.set(i,{scaleX:0,transformOrigin:"left"}),gsap.set([n,l,s],{opacity:0,y:50});let o=gsap.timeline({scrollTrigger:{trigger:e,start:"top 70%",toggleActions:"play none none none"}});o.fromTo(i,{scaleX:0,transformOrigin:"left"},{scaleX:1,duration:.6,ease:"power3.out"},0).to(i,{scaleX:0,transformOrigin:"right",duration:.6,ease:"power2.inOut"},.7).fromTo(a,{opacity:0,scale:1.05},{opacity:1,scale:1,duration:1,ease:"power2.out"},.7),r&&r.querySelectorAll(".union-grid-item").forEach(e=>{var e=e.querySelector(".reveal-element-stagger"),t=e?.querySelector(".reveal-overlay"),e=e?.querySelector(".image img");t&&e&&(gsap.set(t,{scaleX:0,transformOrigin:"left"}),o.fromTo(t,{scaleX:0,transformOrigin:"left"},{scaleX:1,duration:.6,ease:"power3.out"},1.3).to(t,{scaleX:0,transformOrigin:"right",duration:.6,ease:"power2.inOut"},2).fromTo(e,{opacity:0,scale:1.05},{opacity:1,scale:1,duration:1,ease:"power2.out"},2))}),o.to(n,{opacity:1,y:0,duration:.8,ease:"power1.out"},1.5).to(l,{opacity:1,y:0,duration:.8,ease:"power1.out"},"-=0.5").to(s,{opacity:1,y:0,duration:.8,ease:"power1.out"},"-=0.5")}}})}}}function headerMobile(){let t=document.getElementById("hamburger"),o=document.querySelector(".header-sub-menu"),r=document.querySelector(".header-overlay"),a=document.getElementById("booking-btn"),i=document.querySelector(".booking-container"),n=document.querySelector(".booking-overlay");function l(){window.lenis&&window.lenis.stop();var e=window.innerWidth-document.documentElement.clientWidth;document.body.style.paddingRight=e+"px",document.body.style.overflow="hidden"}function s(){window.lenis&&window.lenis.start(),document.body.style.paddingRight="",document.body.style.overflow=""}console.log({hamburger:!!t,bookingBtn:!!a,bookingContainer:!!i,bookingOverlay:!!n}),t&&a?(t.addEventListener("click",function(e){(this.classList.contains("active-booking")?(this.classList.remove("active-booking"),a.classList.remove("active"),i.classList.remove("active"),n.classList.remove("active"),s):(this.classList.toggle("active"),o.classList.toggle("active"),r.classList.toggle("active"),this.classList.contains("active")?l:s))()},{passive:!1}),a.addEventListener("click",function(e){this.classList.add("active"),t.classList.add("active-booking"),i.classList.add("active"),n.classList.add("active"),t.classList.remove("active"),o.classList.remove("active"),r.classList.remove("active"),l()},{passive:!1}),r&&r.addEventListener("click",()=>{t.classList.remove("active"),o.classList.remove("active"),r.classList.remove("active"),s()}),n&&n.addEventListener("click",()=>{t.classList.remove("active-booking"),a.classList.remove("active"),i.classList.remove("active"),n.classList.remove("active"),s()})):console.error("Không tìm thấy hamburger hoặc booking-btn! Kiểm tra ID và DOM.")}function initScrollToSection(){let o=document.querySelectorAll(".fixed-address-item");o.forEach(e=>{e.addEventListener("click",function(){o.forEach(e=>e.classList.remove("active")),this.classList.add("active");var e=this.textContent.trim().toLowerCase().replace(/\s+/g,"-"),e=document.getElementById(e);e&&e.scrollIntoView({behavior:"smooth",block:"start"})})});let t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){let t=e.target.id;o.forEach(e=>{e.textContent.trim().toLowerCase().replace(/\s+/g,"-")===t&&(o.forEach(e=>e.classList.remove("active")),e.classList.add("active"))})}})},{root:null,rootMargin:"-50% 0px -50% 0px",threshold:0});o.forEach(e=>{e=e.textContent.trim().toLowerCase().replace(/\s+/g,"-"),e=document.getElementById(e);e&&t.observe(e)})}function galleryLoop(){var e,t,o=document.querySelector(".gallery-loop");o&&(e=o.querySelector(".title"),t=o.querySelector(".description"),gsap.set(e,{opacity:0,y:20}),gsap.set(t,{opacity:0,y:30}),gsap.timeline({scrollTrigger:{trigger:o,start:"top 65%",toggleActions:"play none none none"}}).to(e,{opacity:1,y:0,duration:1,ease:"power3.out"}).to(t,{opacity:1,y:0,duration:.8,ease:"power2.out"},"-=0.5")),document.querySelectorAll(".gallery-loop").forEach(e=>{e.dataset.scriptInitialized||(e.dataset.scriptInitialized="true",document.querySelectorAll("[data-marquee-scroll-direction-target]").forEach(t=>{var o=t.querySelector("[data-marquee-collection-target]"),r=t.querySelector("[data-marquee-scroll-target]");if(o&&r){var{marqueeSpeed:a,marqueeDirection:i,marqueeDuplicate:n,marqueeScrollSpeed:l}=t.dataset,a=parseFloat(a),i="right"===i?1:-1,s=parseInt(n||0),n=parseFloat(l),l=window.innerWidth<479?.25:window.innerWidth<991?.5:1,a=a*(o.offsetWidth/window.innerWidth)*l;if(r.style.marginLeft=-1*n+"%",r.style.width=2*n+100+"%",0<s){var c=document.createDocumentFragment();for(let e=0;e<s;e++)c.appendChild(o.cloneNode(!0));r.appendChild(c)}l=t.querySelectorAll("[data-marquee-collection-target]");let e=gsap.to(l,{xPercent:-100,repeat:-1,duration:a,ease:"linear"}).totalProgress(.5);e.timeScale(i),e.play(),t.setAttribute("data-marquee-status","normal"),t.addEventListener("mouseenter",()=>{e.pause()}),t.addEventListener("mouseleave",()=>{e.play()});gsap.timeline({scrollTrigger:{trigger:t,start:"0% 100%",end:"100% 0%",scrub:0}})}}))}),ScrollTrigger.create({trigger:".gallery-loop-list",start:"top 70%",once:!0,onEnter:()=>{document.querySelectorAll(".marquee-item").forEach((e,t)=>{var o=e.querySelector(".reveal-overlay"),r=e.querySelector("img");gsap.set(e,{visibility:"visible"}),o&&r&&gsap.timeline({delay:0*t}).fromTo(o,{scaleX:0,transformOrigin:"left"},{scaleX:1,duration:.6,ease:"power3.out"}).to(o,{scaleX:0,transformOrigin:"right",duration:.6,ease:"power2.inOut"},"+=0.1").fromTo(r,{opacity:0,scale:1.05},{opacity:1,scale:1,duration:1,ease:"power2.out"},"-=0.6")})}})}function getDateAndTimeBooking(){new Lightpick({field:document.getElementById("select-date")})}function validateBookingForm(){}export{customDropdown,headerScroll,createFilterTab,loading,bannerRevealWithContent,revealBgPage,chefSectionAnimation,menuGalleryReveal,cursor,ctaRun,mousetail,bannerWithOutHome,changeBackgroundColor,swiperLocation,unionSectionAnimation,headerMobile,initScrollToSection,galleryLoop,getDateAndTimeBooking,validateBookingForm};